<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Working with R | PO11Q: Seminar Companion</title>
  <meta name="description" content="Working with R | PO11Q: Seminar Companion" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Working with R | PO11Q: Seminar Companion" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Working with R | PO11Q: Seminar Companion" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="z-scores.html"/>
<link rel="next" href="flashcards-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="companion-features.html"><a href="companion-features.html"><i class="fa fa-check"></i>Companion Features</a></li>
<li class="chapter" data-level="" data-path="accessibility.html"><a href="accessibility.html"><i class="fa fa-check"></i>Accessibility</a></li>
<li class="part"><span><b>Week 1</b></span></li>
<li class="chapter" data-level="" data-path="no-seminar.html"><a href="no-seminar.html"><i class="fa fa-check"></i>No Seminar</a></li>
<li class="part"><span><b>Week 2</b></span></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#introduction-to-moodle"><i class="fa fa-check"></i>Introduction to Moodle</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#the-global-view"><i class="fa fa-check"></i>The Global View</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#the-weekly-view"><i class="fa fa-check"></i>The Weekly View</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#learning-outcomes"><i class="fa fa-check"></i>Learning Outcomes</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#lecture"><i class="fa fa-check"></i>Lecture</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#seminar"><i class="fa fa-check"></i>Seminar</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#seminar-getting-to-know-r"><i class="fa fa-check"></i>Seminar – Getting to Know R</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#which-role-does-the-quiz-have"><i class="fa fa-check"></i>Which role does the quiz have?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#what-can-i-find-under-the-label-useful-stuff"><i class="fa fa-check"></i>What can I find under the label “Useful Stuff”?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#fora"><i class="fa fa-check"></i>Fora</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#where-can-i-find-information-on-the-assessment"><i class="fa fa-check"></i>Where can I find information on the assessment?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#introduction-to-talis-aspire"><i class="fa fa-check"></i>Introduction to Talis Aspire</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-do-i-find-a-reading"><i class="fa fa-check"></i>How do I find a reading?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-do-i-find-a-reading-contd."><i class="fa fa-check"></i>How do I find a reading? (contd.)</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#what-if-the-reading-is-not-digitally-available"><i class="fa fa-check"></i>What if the reading is not digitally available?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#essential-versus-recommended-reading"><i class="fa fa-check"></i>Essential versus Recommended Reading</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#does-it-make-sense-to-buy-a-book"><i class="fa fa-check"></i>Does it make sense to buy a book?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#assessment"><i class="fa fa-check"></i>Assessment</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#a-simple-question"><i class="fa fa-check"></i>A Simple Question (?)</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#group-work-1"><i class="fa fa-check"></i>Group Work 1</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#group-work-2"><i class="fa fa-check"></i>Group Work 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#homework-for-week-3"><i class="fa fa-check"></i>Homework for Week 3</a></li>
</ul></li>
<li class="part"><span><b>Week 3</b></span></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html"><i class="fa fa-check"></i>Conceptualisation and Measurement</a>
<ul>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#self-assessment-questions"><i class="fa fa-check"></i>Self-Assessment Questions</a></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#assessment-1"><i class="fa fa-check"></i>Assessment</a></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#assessment-guidelines"><i class="fa fa-check"></i>Assessment Guidelines</a>
<ul>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#assessment-guidelines-1"><i class="fa fa-check"></i>Assessment Guidelines</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#referencing"><i class="fa fa-check"></i>Referencing</a>
<ul>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#references-how"><i class="fa fa-check"></i>References: How?</a></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#references-harvard"><i class="fa fa-check"></i>References: Harvard</a></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#quotations"><i class="fa fa-check"></i>Quotations</a></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#long-quotations"><i class="fa fa-check"></i>Long Quotations</a></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#list-of-references"><i class="fa fa-check"></i>List of References</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#writing-your-assessment"><i class="fa fa-check"></i>Writing your Assessment</a></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#group-work"><i class="fa fa-check"></i>Group Work</a></li>
<li class="chapter" data-level="" data-path="conceptualisation-and-measurement.html"><a href="conceptualisation-and-measurement.html#homework-for-week-4"><i class="fa fa-check"></i>Homework for Week 4</a></li>
</ul></li>
<li class="part"><span><b>Week 4</b></span></li>
<li class="chapter" data-level="" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i>Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#self-assessment-questions-1"><i class="fa fa-check"></i>Self-Assessment Questions</a></li>
<li class="chapter" data-level="" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#calculations"><i class="fa fa-check"></i>Calculations</a>
<ul>
<li class="chapter" data-level="" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#data-set"><i class="fa fa-check"></i>Data Set</a></li>
<li class="chapter" data-level="" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#homework-for-week-5"><i class="fa fa-check"></i>Homework for Week 5</a></li>
<li class="chapter" data-level="" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#solutions"><i class="fa fa-check"></i>Solutions</a></li>
</ul></li>
<li class="part"><span><b>Week 5</b></span></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i>Introduction to R</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#self-assessment-questions-2"><i class="fa fa-check"></i>Self-Assessment Questions</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-rstudio-installation"><i class="fa fa-check"></i>R &amp; RStudio – Installation</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r---getting-started"><i class="fa fa-check"></i>R - Getting Started</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#rscript"><i class="fa fa-check"></i>RScript</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#rscript-structure"><i class="fa fa-check"></i>RScript Structure</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#first-steps-in-r"><i class="fa fa-check"></i>First Steps in R</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-working-directory"><i class="fa fa-check"></i>The Working Directory</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-packages"><i class="fa fa-check"></i>R Packages</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#opening-your-data-set"><i class="fa fa-check"></i>Opening your Data Set</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#viewing-the-data"><i class="fa fa-check"></i>Viewing the Data</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variable-types-in-r"><i class="fa fa-check"></i>Variable Types in R</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#nominal-variables"><i class="fa fa-check"></i>Nominal Variables</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#ordinal-variables"><i class="fa fa-check"></i>Ordinal Variables</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#binary-dummy"><i class="fa fa-check"></i>Binary Dummy</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#sub-setting-data"><i class="fa fa-check"></i>Sub-Setting Data</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#by-variable"><i class="fa fa-check"></i>By Variable</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#by-observation"><i class="fa fa-check"></i>By Observation</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#keep-if-a-variable-has-a-certain-value"><i class="fa fa-check"></i>Keep if a variable has a certain value</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#ordering-data"><i class="fa fa-check"></i>Ordering Data</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#grouping-data"><i class="fa fa-check"></i>Grouping Data</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#combining-ordering-and-grouping-data"><i class="fa fa-check"></i>Combining Ordering and Grouping Data</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#saving"><i class="fa fa-check"></i>Saving</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#homework-for-week-7"><i class="fa fa-check"></i>Homework for Week 7</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="flashcards.html"><a href="flashcards.html"><i class="fa fa-check"></i>Flashcards</a></li>
<li class="part"><span><b>Week 6</b></span></li>
<li class="chapter" data-level="" data-path="reading-week.html"><a href="reading-week.html"><i class="fa fa-check"></i>Reading Week</a></li>
<li class="part"><span><b>Week 7</b></span></li>
<li class="chapter" data-level="" data-path="z-scores.html"><a href="z-scores.html"><i class="fa fa-check"></i>z-Scores</a>
<ul>
<li class="chapter" data-level="" data-path="z-scores.html"><a href="z-scores.html#self-assessment-questions-3"><i class="fa fa-check"></i>Self-Assessment Questions</a></li>
<li class="chapter" data-level="" data-path="z-scores.html"><a href="z-scores.html#how-to-read-a-z-table"><i class="fa fa-check"></i>How to read a z-table</a></li>
<li class="chapter" data-level="" data-path="z-scores.html"><a href="z-scores.html#calculations-1"><i class="fa fa-check"></i>Calculations</a></li>
<li class="chapter" data-level="" data-path="z-scores.html"><a href="z-scores.html#solutions-1"><i class="fa fa-check"></i>Solutions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html"><i class="fa fa-check"></i>Working with R</a>
<ul>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#preliminary-stuff"><i class="fa fa-check"></i>Preliminary Stuff</a></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#descriptive-statistics-1"><i class="fa fa-check"></i>Descriptive Statistics</a></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#graphs"><i class="fa fa-check"></i>Graphs</a></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#basic-graphs"><i class="fa fa-check"></i>Basic Graphs</a></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#advanced-graphs"><i class="fa fa-check"></i>Advanced Graphs</a></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#even-more-advanced-graphs"><i class="fa fa-check"></i>Even More Advanced Graphs</a></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#organising-code-in-the-rscript"><i class="fa fa-check"></i>Organising Code in the RScript</a></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#exercises-1"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#captions-for-tables-and-figures-in-word"><i class="fa fa-check"></i>Captions for Tables and Figures in Word</a></li>
<li class="chapter" data-level="" data-path="working-with-r.html"><a href="working-with-r.html#homework-for-week-8"><i class="fa fa-check"></i>Homework for Week 8</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="flashcards-1.html"><a href="flashcards-1.html"><i class="fa fa-check"></i>Flashcards</a></li>
<li class="part"><span><b>Week 8</b></span></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i>Confidence Intervals</a>
<ul>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#self-assessment-questions-4"><i class="fa fa-check"></i>Self-Assessment Questions</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#calculating-confidence-intervals"><i class="fa fa-check"></i>Calculating Confidence Intervals</a>
<ul>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#we-know-sigma"><i class="fa fa-check"></i>1. We know <span class="math inline">\(\sigma\)</span></a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#we-dont-know-sigma"><i class="fa fa-check"></i>2. We don’t know <span class="math inline">\(\sigma\)</span></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#exercises-2"><i class="fa fa-check"></i>Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#conceptual-exercises"><i class="fa fa-check"></i>Conceptual Exercises</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#r-exercises"><i class="fa fa-check"></i>R Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#homework-for-week-9"><i class="fa fa-check"></i>Homework for Week 9</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals.html"><a href="confidence-intervals.html#solutions-2"><i class="fa fa-check"></i>Solutions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="flashcards-2.html"><a href="flashcards-2.html"><i class="fa fa-check"></i>Flashcards</a></li>
<li class="part"><span><b>Week 9</b></span></li>
<li class="chapter" data-level="" data-path="significance-testing.html"><a href="significance-testing.html"><i class="fa fa-check"></i>Significance Testing</a>
<ul>
<li class="chapter" data-level="" data-path="significance-testing.html"><a href="significance-testing.html#group-work-self-reflection"><i class="fa fa-check"></i>Group Work – Self-Reflection</a></li>
<li class="chapter" data-level="" data-path="significance-testing.html"><a href="significance-testing.html#r-exercises-1"><i class="fa fa-check"></i>R Exercises</a></li>
<li class="chapter" data-level="" data-path="significance-testing.html"><a href="significance-testing.html#homework-for-week-10"><i class="fa fa-check"></i>Homework for Week 10</a></li>
<li class="chapter" data-level="" data-path="significance-testing.html"><a href="significance-testing.html#solutions-3"><i class="fa fa-check"></i>Solutions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="flashcards-3.html"><a href="flashcards-3.html"><i class="fa fa-check"></i>Flashcards</a></li>
<li class="part"><span><b>Week 10</b></span></li>
<li class="chapter" data-level="" data-path="introduction-to-causality.html"><a href="introduction-to-causality.html"><i class="fa fa-check"></i>Introduction to Causality</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-to-causality.html"><a href="introduction-to-causality.html#self-assessment-questions-5"><i class="fa fa-check"></i>Self-Assessment Questions</a></li>
<li class="chapter" data-level="" data-path="introduction-to-causality.html"><a href="introduction-to-causality.html#exam-preparation"><i class="fa fa-check"></i>Exam Preparation</a></li>
<li class="chapter" data-level="" data-path="introduction-to-causality.html"><a href="introduction-to-causality.html#homework"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="flashcards-4.html"><a href="flashcards-4.html"><i class="fa fa-check"></i>Flashcards</a></li>
<li class="part"><span><b>Downloads</b></span></li>
<li class="chapter" data-level="" data-path="downloads.html"><a href="downloads.html"><i class="fa fa-check"></i>Downloads</a>
<ul>
<li class="chapter" data-level="" data-path="downloads.html"><a href="downloads.html#documents"><i class="fa fa-check"></i>Documents</a></li>
<li class="chapter" data-level="" data-path="downloads.html"><a href="downloads.html#data-sets"><i class="fa fa-check"></i>Data Sets</a></li>
<li class="chapter" data-level="" data-path="downloads.html"><a href="downloads.html#r-scripts"><i class="fa fa-check"></i>R Scripts</a></li>
</ul></li>
<li class="part"><span><b>List of References</b></span></li>
<li class="chapter" data-level="" data-path="list-of-references-1.html"><a href="list-of-references-1.html"><i class="fa fa-check"></i>List of References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PO11Q: Seminar Companion</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-r" class="section level1 unnumbered hasAnchor">
<h1>Working with R<a href="working-with-r.html#working-with-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="preliminary-stuff" class="section level2 unnumbered hasAnchor">
<h2>Preliminary Stuff<a href="working-with-r.html#preliminary-stuff" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Create a working directory (folder) for Week 7, create an RScript for Week 7, and set the working directory. In my case:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="working-with-r.html#cb50-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;~/Warwick/Modules/PO11Q/Seminars/Week 7/Worksheet&quot;</span>)</span></code></pre></div>
<p>Load the data set <a href="files/Week%201/example.xlsx">Example.xlsx</a> (taken from <span class="citation">European Comission (n.d.)</span>) into R:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="working-with-r.html#cb51-1" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb51-2"><a href="working-with-r.html#cb51-2" tabindex="-1"></a></span>
<span id="cb51-3"><a href="working-with-r.html#cb51-3" tabindex="-1"></a>EU <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;EU.xlsx&quot;</span>, <span class="at">sheet=</span><span class="st">&quot;Sheet1&quot;</span>)</span></code></pre></div>
<p>Now copy/paste the entire RScript from Week 5 into the Week 7 RScript. Run the entire script by highlighting everything (“command”/“a” on a Mac and “ctrl”/“a” on Windows) and executing. You should now have a completely and correctly coded data frame that is ready to work with in your R <code>Workspace</code>. If not, give me a shout to sort out problems.</p>
<hr />
</div>
<div id="descriptive-statistics-1" class="section level2 unnumbered hasAnchor">
<h2>Descriptive Statistics<a href="working-with-r.html#descriptive-statistics-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We have covered quite a large number of descriptive statistics, so far. These are:</p>
<ul>
<li>Mean</li>
<li>Median<br />
</li>
<li>Mode</li>
<li>Standard Deviation</li>
<li>Variance</li>
<li>Quartiles and Percentiles</li>
<li>Range</li>
<li>Interquartile Range</li>
</ul>
<p>They are a lot of effort to calculate by hand, especially for larger data sets, but R can do these with a few intuitive commands. First up is the mean.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="working-with-r.html#cb52-1" tabindex="-1"></a><span class="fu">mean</span>(EU<span class="sc">$</span>pop18)</span>
<span id="cb52-2"><a href="working-with-r.html#cb52-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">18311106</span></span></code></pre></div>
<p>Then the median:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="working-with-r.html#cb53-1" tabindex="-1"></a><span class="fu">median</span>(EU<span class="sc">$</span>pop18)</span>
<span id="cb53-2"><a href="working-with-r.html#cb53-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">9300319</span></span></code></pre></div>
<p>You can get information on the quartiles (remember that the median is the second quartile), the mean, as well as the minimum and maximum through one, simple command:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="working-with-r.html#cb54-1" tabindex="-1"></a><span class="fu">summary</span>(EU<span class="sc">$</span>pop18)</span>
<span id="cb54-2"><a href="working-with-r.html#cb54-2" tabindex="-1"></a>    Min.  <span class="dv">1</span>st Qu.   Median     Mean  <span class="dv">3</span>rd Qu.     Max. </span>
<span id="cb54-3"><a href="working-with-r.html#cb54-3" tabindex="-1"></a>  <span class="dv">475701</span>  <span class="dv">3781345</span>  <span class="dv">9300319</span> <span class="dv">18311106</span> <span class="dv">17766718</span> <span class="dv">82850000</span> </span></code></pre></div>
<p>Let’s now move to measures of variability. First up is the range; you can either calculate this with two commands by finding out the minimum and maximum separately, or just ask R to give you both values straight away:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="working-with-r.html#cb55-1" tabindex="-1"></a><span class="fu">min</span>(EU<span class="sc">$</span>pop18)</span>
<span id="cb55-2"><a href="working-with-r.html#cb55-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">475701</span></span>
<span id="cb55-3"><a href="working-with-r.html#cb55-3" tabindex="-1"></a></span>
<span id="cb55-4"><a href="working-with-r.html#cb55-4" tabindex="-1"></a><span class="fu">max</span>(EU<span class="sc">$</span>pop18)</span>
<span id="cb55-5"><a href="working-with-r.html#cb55-5" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">82850000</span></span>
<span id="cb55-6"><a href="working-with-r.html#cb55-6" tabindex="-1"></a></span>
<span id="cb55-7"><a href="working-with-r.html#cb55-7" tabindex="-1"></a><span class="fu">range</span>(EU<span class="sc">$</span>pop18)</span>
<span id="cb55-8"><a href="working-with-r.html#cb55-8" tabindex="-1"></a>[<span class="dv">1</span>]   <span class="dv">475701</span> <span class="dv">82850000</span></span></code></pre></div>
<p>The stadard deviation is rather long-winded to calculate by hand, but the R command is short and sweet:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="working-with-r.html#cb56-1" tabindex="-1"></a><span class="fu">sd</span>(EU<span class="sc">$</span>pop18)</span>
<span id="cb56-2"><a href="working-with-r.html#cb56-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">23787945</span></span></code></pre></div>
<p>As you know, the variance is the squared standard deviation, but you can calculate it with its own command in R, too:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="working-with-r.html#cb57-1" tabindex="-1"></a><span class="fu">var</span>(EU<span class="sc">$</span>pop18)</span>
<span id="cb57-2"><a href="working-with-r.html#cb57-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">5.658663e+14</span></span></code></pre></div>
<div class="video">
<p><strong>Descriptive Statistics</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/krE-9pVemTY?si=c6WUBnsap6Md8Zjd" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
</iframe>
</div>
<p>Now that you have all the relevant tools at hand, complete the following tasks:</p>
<ol style="list-style-type: decimal">
<li>Generate descriptive statistics for 3 of our variables.</li>
<li>Recode the variable ‘GDP_2015’ into a ordered factor called ‘gdp_level’ with three levels called “low”, “medium”, and “high” with cut-off points of your own choosing.</li>
<li>Produce a tabulation for ‘gdp_level’.</li>
</ol>
<hr />
</div>
<div id="graphs" class="section level2 unnumbered hasAnchor">
<h2>Graphs<a href="working-with-r.html#graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R is probably <em>the</em> most powerful statistics programme for creating graphs. As this is an introductory level module, and we only have so much time available in the seminars, I will only be able to introduce you to the most commonly used ones; in the first instance histograms and boxplots. I will then introduce you to the package <code>ggplot2</code> which is simply the best invention since sliced bread, as it gives you pretty much endless optionality in customising graphs to show exactly what you want.</p>
<p>Whenever you produce a graph and you use it in an essay, your dissertation, or article, it is crucial that the graph is able to communicate its message <em>independently</em> from the text. So, a reader should be able to understand the graph and be able to appreciate fully its message without having to read the text. In a similar fashion, the text should always be written in such a way that a reader is able to understand it <em>without having to look at the graph</em>. This is a principle which equally applies to tables (more on this on PO12Q). If you do not follow this principle in the assessments on my modules, you will be marked down.</p>
<p>Chapter 4 in “The Visual Display of Quantitative Information” by <span class="citation">Tufte (2001)</span> is on the reading list as an essential item, but there are some more principles he sets out at the start of the book (p. 13) which are worthwhile repeating here:</p>
<blockquote>
<p>Excellence in statistical graphics consists of complex ideas communicated with clarity, precision, and efficiency. Graphical displays should</p>
</blockquote>
<blockquote>
<ul>
<li>show the data</li>
<li>induce the viewer to think about the substance rather than about methodology, graphic design, the technology of graphic production, or something else</li>
<li>avoid distorting what the data have to say</li>
<li>present many numbers in a small space</li>
<li>make large data sets coherent</li>
<li>encourage the eye to compare different pieces of data</li>
<li>reveal the data at several levels of detail, from a broad overview to the fine structure</li>
<li>serve a reasonably clear purpose: description, exploration, tabulation, or decoration</li>
<li>be closely integrated with the statistical and verbal descriptions of a data set.</li>
</ul>
</blockquote>
<blockquote>
<p>Graphics reveal data. Indeed graphics can be more precise and revealing than conventional statistical computations.</p>
</blockquote>
<hr />
</div>
<div id="basic-graphs" class="section level2 unnumbered hasAnchor">
<h2>Basic Graphs<a href="working-with-r.html#basic-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s start with a histogram of the variable <code>pop18</code>. The range of the <code>pop18</code> variable is about 82 million - this is rather unwieldy to imagine and also to put onto axes of graphs, as they would mostly consist of zeros. So let’s express the population of each countries in million instead:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="working-with-r.html#cb58-1" tabindex="-1"></a>EU<span class="sc">$</span>popmio <span class="ot">&lt;-</span> EU<span class="sc">$</span>pop18<span class="sc">/</span><span class="dv">1000000</span></span></code></pre></div>
<p>We can now produce a histogram. Before doing this, it is sensible to think about the number of bars we want in the histogram. The smallest country has just shy of 500,000 inhabitants, whereas the largest has over 82 million. So, I would like the x-axis to run from zero to 100 (million) and divide this into 5 bars. Accordingly, we are introducing 4 breaks on the x-axis with the following command:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="working-with-r.html#cb59-1" tabindex="-1"></a><span class="fu">hist</span>(EU<span class="sc">$</span>popmio, <span class="at">breaks=</span><span class="dv">4</span>)</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-71-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>This is certainly a histogram, but it does not conform to the principle of graphs that they should be able to communicate their message independently, yet. Take the label of the x-axis, for example, what does <code>EU$popmio</code> mean? You and I know, but somebody who doesn’t know R language wouldn’t. We can tell R to adjust the axis label, as well as the main title of the histogram as follows:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="working-with-r.html#cb60-1" tabindex="-1"></a><span class="fu">hist</span>(EU<span class="sc">$</span>popmio, <span class="at">breaks=</span><span class="dv">4</span>,</span>
<span id="cb60-2"><a href="working-with-r.html#cb60-2" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;Population in million&quot;</span>,</span>
<span id="cb60-3"><a href="working-with-r.html#cb60-3" tabindex="-1"></a>     <span class="at">main=</span><span class="st">&quot;Histogram of EU Population (2018)&quot;</span>)</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-72-1.png" width="50%" style="display: block; margin: auto;" /></p>
<div class="video">
<p><strong>Histograms</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/FQ9Suah3gZc?si=s0Ml-jV_Lyg2Fmah" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
</iframe>
</div>
<p>This is fine now. Ugly, but fine. I will show you how to do a boxplot next, and then I will take you through the process of making all this look a bit more jazzy. The command for the boxplot is very intuitive. The default in R is to arrange the boxplot vertically. I prefer them horizontally, and you can set this in an equally intuitive option.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="working-with-r.html#cb61-1" tabindex="-1"></a><span class="fu">boxplot</span>(EU<span class="sc">$</span>popmio, <span class="at">horizontal =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-73-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>You will recognise the descriptives we calculated earlier with the <code>summary()</code> function:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="working-with-r.html#cb62-1" tabindex="-1"></a><span class="fu">summary</span>(EU<span class="sc">$</span>popmio)</span>
<span id="cb62-2"><a href="working-with-r.html#cb62-2" tabindex="-1"></a>   Min. <span class="dv">1</span>st Qu.  Median    Mean <span class="dv">3</span>rd Qu.    Max. </span>
<span id="cb62-3"><a href="working-with-r.html#cb62-3" tabindex="-1"></a> <span class="fl">0.4757</span>  <span class="fl">3.7814</span>  <span class="fl">9.3003</span> <span class="fl">18.3111</span> <span class="fl">17.7667</span> <span class="fl">82.8500</span> </span></code></pre></div>
<div class="puzzle">
<p>Explain the outliers on the right mathematically.</p>
</div>
<hr />
</div>
<div id="advanced-graphs" class="section level2 unnumbered hasAnchor">
<h2>Advanced Graphs<a href="working-with-r.html#advanced-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The graphs we have produced so far are functional, but let’s be honest, they wouldn’t win any beauty contests. There is, as mentioned earlier, an amazing package called <code>ggplot2</code> which changes this dramatically. You have already installed it as a part of the tidyverse. Otherwise, the function would be:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="working-with-r.html#cb63-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<p>We can just load it:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="working-with-r.html#cb64-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<p>The “gg” in <code>ggplot2</code> stands for “grammar of graphs”. You will be familiar with the term “grammar”” from learning a language already. In this context, we use grammar to build sentences by choosing and arranging a variety different components, such as subjects, verbs and objects. If you know how to do this properly, you can express exactly what you want to say. The grammar of graphs adopts this logic and specifies a number of different components which allow you to create a graph which is able to communicate exactly what you wish to show.</p>
<p><code>ggplot2</code> has eight basic grammatical arguments:</p>
<table class="table" style="color: black; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:ggplot2">Table 2: </span>GGPLOT Components
</caption>
<tbody>
<tr>
<td style="text-align:left;min-width: 1.8in; ">
Data Frame
</td>
<td style="text-align:left;">
The data you wish to visualize.
</td>
</tr>
<tr>
<td style="text-align:left;min-width: 1.8in; ">
Aesthetic Mappings
</td>
<td style="text-align:left;">
Here you specify how the data are assigned to colour, size, etc. For now, this is the variable for which we want to create a graphical distribution.
</td>
</tr>
<tr>
<td style="text-align:left;min-width: 1.8in; ">
Geom
</td>
<td style="text-align:left;">
Short for “geometry”. Use a geom function to represent data points through geometric objects, such as points, lines, etc. Each function returns a layer.
</td>
</tr>
<tr>
<td style="text-align:left;min-width: 1.8in; ">
Stat
</td>
<td style="text-align:left;">
You can include statistical summaries through this, such as smoothing, or regression lines.
</td>
</tr>
<tr>
<td style="text-align:left;min-width: 1.8in; ">
Position
</td>
<td style="text-align:left;">
Position adjustments determine how to arrange geoms that would otherwise occupy the same space.
</td>
</tr>
<tr>
<td style="text-align:left;min-width: 1.8in; ">
Facets
</td>
<td style="text-align:left;">
Facets divide a plot into sub-plots based on the values of one or more discrete variables.
</td>
</tr>
<tr>
<td style="text-align:left;min-width: 1.8in; ">
Scale
</td>
<td style="text-align:left;">
Maps data values to the visual values of an aesthetic. For example female=pink, male=blue.
</td>
</tr>
<tr>
<td style="text-align:left;min-width: 1.8in; ">
Coordinates
</td>
<td style="text-align:left;">
How do the numbers get translated onto the plot? We are not going to look at this on this module.
</td>
</tr>
</tbody>
</table>
<p>I like to think of using these arguments like dressing myself in the morning. The minimum that common decency requires me to wear if I wish to leave the house is some underwear, some trousers, and a top. Depending on how I feel and what the weather is like, I can add more layers, like socks, a jumper, or a scarf. It is exactly the same with <code>ggplot2</code>. As a minimum to produce a plot you need a data frame, the aesthetic mapping and a geom. Once you have produced this minimalistic graph, you can modify it, by adding more components / arguments. As you can imagine the possibilities are almost endless, and we only have time to deal with the minimum here. This is not a problem, however, as most of the other grammatical arguments (Stats, Position, Facets and Scales) generally have sensible defaults.</p>
<p>So how does this work in practice? Let us reproduce the histogram of the <code>age</code> variable. We start by calling <code>ggplot2</code> and advise the function which data frame we wish to use (<code>EU</code>). In a second step, we add a geometry – in our case <code>geom_histogram</code>. Within the geometry, we need to specify for which variable we wish to create a distribution, or in the language of <code>ggplot2</code> which variable we wish to map to the geom as our Aesthetic. To produce 5 bars again, we specify a bandwith of 20 million (this refers to <code>popmio</code>).</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="working-with-r.html#cb65-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>EU) <span class="sc">+</span></span>
<span id="cb65-2"><a href="working-with-r.html#cb65-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping=</span><span class="fu">aes</span>(popmio), <span class="at">binwidth =</span> <span class="dv">20</span>)</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-77-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>Annoyingly, <code>ggplot</code> places the axis ticks in the middle of each bar which is WRONG for histograms. They need to align with the boundaries of the bars. We do this by telling R the boundary of the plot:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="working-with-r.html#cb66-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>EU) <span class="sc">+</span></span>
<span id="cb66-2"><a href="working-with-r.html#cb66-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping=</span><span class="fu">aes</span>(popmio), <span class="at">binwidth =</span> <span class="dv">20</span>, </span>
<span id="cb66-3"><a href="working-with-r.html#cb66-3" tabindex="-1"></a>                 <span class="at">boundary =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-78-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>This has shifted the ticks to the left, but now R has decided to label the x-axis in steps of 25, whereas our bars have a bandwidth of 20. Once again, we have the variable name on the x-axis, instead of a label which anybody could understand. I also prefer “Frequency” on the y-axis, instead of “Count”. To address both of these concerns, we simply add a layer for each. First up are the axis ticks. Our variable is continuous, so we choose the <code>scale_x_continuous</code> option, and tell R to break the axis up into a sequence which starts with zero, ends at 100 and has steps of 20 in between. In the <code>labs</code> argument we adjust the labelling as intended:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="working-with-r.html#cb67-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>EU) <span class="sc">+</span></span>
<span id="cb67-2"><a href="working-with-r.html#cb67-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">mapping=</span><span class="fu">aes</span>(popmio), <span class="at">binwidth =</span> <span class="dv">20</span>, </span>
<span id="cb67-3"><a href="working-with-r.html#cb67-3" tabindex="-1"></a>                 <span class="at">boundary =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb67-4"><a href="working-with-r.html#cb67-4" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb67-5"><a href="working-with-r.html#cb67-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Population (in million)&quot;</span>, <span class="at">y=</span><span class="st">&quot;Frequency&quot;</span>) <span class="sc">+</span></span>
<span id="cb67-6"><a href="working-with-r.html#cb67-6" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-80-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>I have also removed the background in line with the principles set out by <span class="citation">Tufte (2001, p. 96)</span> by adding <code>theme_classic()</code>. This is it. A graph which can communicate its message independently, and which looks aesthetically pleasing.</p>
<p>In the present case we have the population, so displaying the frequency on the y-axis is sort of sensible, but usually we would be dealing with a sample. Here the count is not very telling and we would be using percentages, instead. Let’s do it!</p>
<hr />
</div>
<div id="even-more-advanced-graphs" class="section level2 unnumbered hasAnchor">
<h2>Even More Advanced Graphs<a href="working-with-r.html#even-more-advanced-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Unfortunately, there is no easy, default way to do this in R, but necessitates a calculation within the <code>ggplot</code> command. Once more we call <code>ggplot</code> and use the <code>EU</code> data set, and select the geom <code>geom_histogram</code>. Again we specify the binwidth as 20 with a boundary of zero, and put <code>popmio</code> on the x-axis. Now comes the point where we need to do something new, because <code>y</code> is not equivalent to the frequency any more, but should be percentage. To achieve this we advise R to put the density there (which is the relative frequency from the the lecture in week 5), and multiply this density by 100 to get percentage. Nothing has changed on the scaling of the x-axis from the previous plot, so we can copy and paste the <code>scale_x_continuous</code> section, as well as the labelling of the x-axis. In this last step, we now also need to adjust the label of the y-axis, because this has now percentage on it, and not frequency. The result is this:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="working-with-r.html#cb68-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> EU) <span class="sc">+</span> </span>
<span id="cb68-2"><a href="working-with-r.html#cb68-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">20</span>, <span class="at">boundary =</span> <span class="dv">0</span>,</span>
<span id="cb68-3"><a href="working-with-r.html#cb68-3" tabindex="-1"></a>                 <span class="fu">aes</span>(<span class="at">x=</span> popmio, </span>
<span id="cb68-4"><a href="working-with-r.html#cb68-4" tabindex="-1"></a>                     <span class="at">y =</span> (..count..)<span class="sc">/</span><span class="fu">sum</span>(..count..)<span class="sc">*</span><span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb68-5"><a href="working-with-r.html#cb68-5" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb68-6"><a href="working-with-r.html#cb68-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Population (in million)&quot;</span>, <span class="at">y=</span><span class="st">&quot;percent&quot;</span>)  <span class="sc">+</span></span>
<span id="cb68-7"><a href="working-with-r.html#cb68-7" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-82-1.png" width="50%" style="display: block; margin: auto;" /></p>
<div class="video">
<p><strong>Jazzy Graphs with GGPLOT</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Z4KAuOO_iew?si=oMrS0gYs1JnV5dPS" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
</iframe>
</div>
<hr />
</div>
<div id="organising-code-in-the-rscript" class="section level2 unnumbered hasAnchor">
<h2>Organising Code in the RScript<a href="working-with-r.html#organising-code-in-the-rscript" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now is probably a good time to make you aware of how I have been organising code which runs over several lines. I could also have written the code of the last graph as</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="working-with-r.html#cb69-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> EU) <span class="sc">+</span> </span>
<span id="cb69-2"><a href="working-with-r.html#cb69-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">20</span>, <span class="at">boundary =</span> <span class="dv">0</span>, <span class="fu">aes</span>(<span class="at">x=</span> popmio, <span class="at">y =</span> (..count..)<span class="sc">/</span><span class="fu">sum</span>(..count..)<span class="sc">*</span><span class="dv">100</span>)) <span class="sc">+</span> <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">20</span>)) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Population&quot;</span>, <span class="at">y=</span><span class="st">&quot;percent&quot;</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code></pre></div>
<p>but this would have made it rather difficult to disentangle and to spot the structure of the graph straight away. So it is also a good idea to structure the code in a logical way which allows a reader to understand it as easily as possible. R is very smart in the way it indents the next line after pressing “enter” in an RScript automatically to the appropriate position. You see for example that in</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="working-with-r.html#cb70-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> EU) <span class="sc">+</span> </span>
<span id="cb70-2"><a href="working-with-r.html#cb70-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">20</span>, <span class="at">boundary =</span> <span class="dv">0</span>,</span>
<span id="cb70-3"><a href="working-with-r.html#cb70-3" tabindex="-1"></a>                 <span class="fu">aes</span>(<span class="at">x=</span> popmio, </span>
<span id="cb70-4"><a href="working-with-r.html#cb70-4" tabindex="-1"></a>                     <span class="at">y =</span> (..count..)<span class="sc">/</span><span class="fu">sum</span>(..count..)<span class="sc">*</span><span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb70-5"><a href="working-with-r.html#cb70-5" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb70-6"><a href="working-with-r.html#cb70-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Population (in million)&quot;</span>, <span class="at">y=</span><span class="st">&quot;percent&quot;</span>) <span class="sc">+</span></span>
<span id="cb70-7"><a href="working-with-r.html#cb70-7" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p>the <code>aes</code> which belongs to the <code>geom_histogram</code> layer is indented just so it starts flush with the first argument (<code>binwidth</code>) within this layer.</p>
<hr />
</div>
<div id="exercises-1" class="section level2 unnumbered hasAnchor">
<h2>Exercises<a href="working-with-r.html#exercises-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Using these commands, and moving beyond with the help of today’s reading, complete the following tasks:</p>
<ol style="list-style-type: decimal">
<li>Produce two base-R graphs of different types (e.g. histogram, bar chart, box-and-whisker plot) for separate variables in the EU data set.</li>
<li>Produce two <code>ggplot</code> graphs of different types (e.g. histogram, bar chart, box-and-whisker plot) for separate variables in the EU data set. Google to find more geoms.</li>
</ol>
<hr />
</div>
<div id="captions-for-tables-and-figures-in-word" class="section level2 unnumbered hasAnchor">
<h2>Captions for Tables and Figures in Word<a href="working-with-r.html#captions-for-tables-and-figures-in-word" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In essays, your dissertation and in articles, you will have to refer to tables and figures in the text. Now, you can do this by writing “the figure below”. But this is not very elegant. Also, what happens if you change the layout and all of a sudden “the figure below” becomes “the figure above”. This not only causes additional work because you have to edit the text and check all references to tables and figures once you are done (which is tedious beyond description), but there is also the risk that you miss one or a few in the process.</p>
<p>MS Word has a nifty function that allows you to insert captions for figures and tables, and then to insert cross-references into the text which get updated automatically before you send the document to the printer. Here is how to do it:</p>
<p>Say, you have a figure inserted into Word. You now click on it, then hover over the bottom right-hand square, and right-click with your mouse. From the resulting context menu you select “Insert Caption”.</p>
<p><img src="files/Week%207/insert_caption.png" width="60%" style="display: block; margin: auto;" /></p>
<p>This results in the following window:</p>
<p><img src="files/Week%207/caption.png" width="40%" style="display: block; margin: auto;" /></p>
<p>Select whether the item you want to describe is a figure, or a table. Then make sure you place the caption “below” the item (this is default). Then type your caption into the box at the top, such as “Figure 1: Skewness of Distributions”. Make sure the caption is <strong>telling</strong>. The reader needs to know from the caption what the figure or table is about. When you click OK, the document looks like this:</p>
<p><img src="files/Week%207/document.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Now you start writing the text and come to the point where you refer to the figure in question. Here, all you have to do is to select “Insert” and “Cross-Reference”” </p>
<p><img src="files/Week%207/hyperlink.png" width="30%" style="display: block; margin: auto;" /></p>
<p>and select the following options in the pop-up window:</p>
<p><img src="files/Week%207/selection.png" width="30%" style="display: block; margin: auto;" /></p>
<div style="page-break-after: always;"></div>
<p>Your text will then look like this:</p>
<p><img src="files/Week%207/text.png" width="90%" style="display: block; margin: auto;" /></p>
<p>You don’t have to worry now about the sequence of numbering any more. If you insert another figure above this one, and insert a cross-reference in the text again, the sequence is automatically updated and our former “Figure 1” becomes “Figure 2”. Tables and figures have separate sequences of numbering.</p>
<p>One last word on the display of data in tables: <strong><em>DO NOT</em></strong> screenshot tables from R and insert them into your presentations. They look ugly and unprofessional. Make the effort and create a proper table, either in Word or Excel and populate it manually with the data from R. The insertion of captions and cross-references is the same as described above.</p>
<hr />
</div>
<div id="homework-for-week-8" class="section level2 unnumbered hasAnchor">
<h2>Homework for Week 8<a href="working-with-r.html#homework-for-week-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Read the essential literature for the lecture. There is no separate reading for the seminar.</li>
<li>Work through <a href="https://drfloreiche.github.io/PO11Q/flashcards-1.html">this week’s flashcards</a> to familiarise yourself with the relevant R functions.</li>
<li>Find an example for each NEW function and apply it in R to ensure it works</li>
<li>Answer the following questions, using the data set from week 5 and submit the RScript on Moodle (find the link under Seminar for Week 8) by 5PM on Friday, 17 November:
<ul>
<li>Complete the base-R and <code>ggplot</code> graphs from the Exercises.</li>
<li>Calculate GDP per capita in a new variable, and sort countries in descending order (for this it is ok to mix 2015 and 2018 data).</li>
<li>Which country is the least and which is the most densely populated?</li>
<li>Recode the <code>pop18</code> variable into a categorical variable with low, medium, and high population (cut-off points are your choice).</li>
</ul></li>
</ul>
<hr />
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="z-scores.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="flashcards-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"toc_depth": 2,
"keep_tex": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
